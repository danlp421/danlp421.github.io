<html>
  <head>
    <meta name="author" content="Daniel Leon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.25/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.25/"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div id="viewDiv"></div>
    <div id="panel">
      <div id="totalPowerDiv">
        <h2>Estimated <span id="office">Offices</span> Power Consumption</h2>
        <h2 id="totalPowerConsumption">0 KWh</h2>
        <p id="consumptionDate">2023 year to date</p>
      </div>
      <div id="blueStats">
        <h2>Greening The Blue</h2>
        <div id="stat">
          <img
            src="https://www.arcgis.com/sharing/rest/content/items/015b4153a8e94201aa90f615ebc2eb40/resources/images/widget_526/1675240205608.png"
            alt="co2"
            width="40px"
            height="40px"
          />
          <h2 id="co2" style="margin: 0">0</h2>
          <p style="margin: 0"><i>(KG of CO2 emitted)</i></p>
        </div>
        <div id="stat">
          <img
            src="https://www.arcgis.com/sharing/rest/content/items/015b4153a8e94201aa90f615ebc2eb40/resources/images/widget_527/1675240244586.png"
            alt="co2"
            width="40px"
            height="40px"
          />
          <h2 id="water" style="margin: 0">0</h2>
          <p style="margin: 0"><i>(m3 of water used)</i></p>
        </div>
        <div id="stat">
          <img
            src="https://www.arcgis.com/sharing/rest/content/items/015b4153a8e94201aa90f615ebc2eb40/resources/images/widget_528/1675240286533.png"
            alt="co2"
            width="40px"
            height="40px"
          />
          <h2 id="waste" style="margin: 0">0</h2>
          <p style="margin: 0"><i>(KG of waste generated)</i></p>
        </div>
      </div>
      <div id="unhcrLogo">
        <img
          src="https://www.arcgis.com/sharing/rest/content/items/015b4153a8e94201aa90f615ebc2eb40/resources/images/widget_347/1670487399513.png"
          width="100%"
        />
      </div>
    </div>
    <div class="overlay">
      <div>
        <span id="play" class="button esri-icon-play" style="display: block" />
      </div>
      <div>
        <span id="pause" class="button esri-icon-pause" style="display: none" />
      </div>
      <div id="label">Heading: 0&deg;</div>
    </div>
  </body>
</html>
<style>
  html,
  body {
    background: rgb(0, 0, 0);
    display: flex;
    width: 100%;
    align-items: center;
  }
  #panel {
    box-sizing: border-box;
    background-color: black;
    color: white;
    /* height: 100%; */
    flex: 1;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }
  #totalPowerDiv {
    flex: 2;
    border: 1px solid;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0px;
    text-align: center;
    flex-direction: column;
    box-sizing: border-box;
  }
  #viewDiv {
    padding: 0;
    margin: 0;
    height: 100%;
    /* width: 90%; */
    flex: 4;
  }
  #blueStats {
    flex: 4;
    border: 1px solid white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    text-align: center;
    box-sizing: border-box;
    padding: 10px 0px;
  }
  #blueStats h2 {
    margin: 0;
    margin-bottom: 10px;
  }
  #unhcrLogo {
    flex: 1;
    margin: 0;
  }
  .esri-widget__table {
    color: #ffffff;
  }
  .esri-widget--button {
    color: #ffffff;
  }
  .esri-widget__heading {
    color: #f8f8f8;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
  }
  .esri-widget--button {
    font-size: 14px;
    background-color: #141414;
    color: #141414;
  }
  .esri-widget {
    box-sizing: border-box;
    color: #141414;
    font-size: 14px;
    font-family: "Avenir Next", "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 1.3em;
    background-color: #141414;
  }
  .esri-widget {
    box-sizing: border-box;
    color: #141414;
    font-size: 14px;
    font-family: "Avenir Next", "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 1.3em;
    background-color: #141414;
  }
  .button {
    cursor: pointer;
    font-size: 30pt !important;
    font-weight: bold !important;
    color: #f5f1f1;
  }
  .overlay {
    position: absolute;
    width: 50%;
    bottom: 50px;
    left: 0px;
    background-color: rgba(80, 80, 80, 0);
    text-align: center;
    font-family: "Avenir Next", "Helvetica Neue", Helvetica, Arial, sans-serif;
  }
  #viewDiv canvas {
    filter: saturate(1.2) drop-shadow(0 0 20px rgba(255, 255, 255, 0));
  }
  .button {
    cursor: pointer;
    font-size: 30pt !important;
    font-weight: bold !important;
    color: rgb(5, 4, 4);
  }
  .button:hover,
  #label {
    color: rgb(47, 46, 46);
  }
  .button,
  #label {
    margin: 10px;
  }
  .esri-widget {
    font-size: 12.4px;
  }
  .esri-popup__button {
    border-radius: 1px;
    padding: 4px 5px;
    margin: 1px 0;
  }
  .esri-layer-list__item {
    background-color: #000000;
    color: white;
  }
  .esri-layer-list__item-container {
    padding: 8px 4px 8px 8px;
  }
  .esri-view-height-small .esri-ui-corner .esri-component.esri-widget--panel {
    max-height: 300px;
  }
  .esri-ui-corner .esri-component.esri-widget--panel {
    width: 180px;
  }
  .esri-layer-list__item-toggle {
    color: #ffffff;
  }
  .esri-layer-list__item-toggle {
    color: #f8f8f8;
  }
  .esri-widget--button {
    color: #ffffff;
  }
  .esri-feature__content-element {
    padding: 0 1px 2px;
  }
  .esri-legend__service {
    padding: 6px 6px;
  }
  h3.esri-widget__heading,
  h4.esri-widget__heading,
  h5.esri-widget__heading,
  h6.esri-widget__heading {
    font-size: 12px;
  }
  .esri-legend__layer {
    margin-left: 1px;
  }
  .esri-legend__layer-cell--symbols {
    min-width: 8px;
  }
  .esri-legend__layer-cell {
    padding: 0px 0;
  }
  .esri-widget__heading {
    margin: 0 0 0.1rem 0;
  }
  h2.esri-widget__heading {
    font-weight: 500;
    font-size: 14px;
  }
  .esri-legend__layer-table {
    width: 80%;
    margin-bottom: 5px;
  }
  .esri-popup__main-container {
    width: 30%;
    max-height: 40%;
  }
  .esri-view-surface--inset-outline:focus::after {
    outline: none !important;
  }
  .esri-layer-list__item-title {
    line-height: 0.9em;
  }
  .esri-widget__table {
    line-height: 0.8em;
  }
  .esri-view-width-large .esri-popup__main-container {
    width: 300px;
  }
  .esri-widget__table tr td {
    width: 30%;
  }
  .esri-widget__table tr th {
    width: 30%;
  }
  .esri-widget__table tr td,
  .esri-widget__table tr th {
    padding: 0.2em 0.3em;
    font-size: 12px;
    font-weight: 300;
  }
  .esri-feature__content-element:last-child {
    margin-bottom: 0;
  }
  .esri-view-height-less-than-medium .esri-popup__main-container {
    max-height: 300px;
  }
  .esri-view-width-xlarge .esri-popup__main-container {
    width: 320px;
  }
  .esri-ui-corner .esri-expand .esri-widget--panel,
  .esri-ui-corner .esri-expand .esri-widget--panel-height-only,
  .esri-ui-corner .esri-component > .esri-widget--panel,
  .esri-ui-corner .esri-component.esri-widget--panel {
    width: 230px;
  }
</style>
<script>
  const locations = [
    {
      location: "Oranjestad",
      total_Kwh: "-",
    },
    {
      location: "Bamyan",
      total_Kwh: 121111,
    },
    {
      location: "Herat",
      total_Kwh: 679018,
    },
    {
      location: "Jalalabad",
      total_Kwh: 364252,
    },
    {
      location: "Kandahar",
      total_Kwh: 488332,
    },
    {
      location: "Mazar-i-Sharif",
      total_Kwh: 172920,
    },
    {
      location: "Kunduz",
      total_Kwh: 25141,
    },
    {
      location: "Kabul",
      total_Kwh: 491320,
    },
    {
      location: "Luanda",
      total_Kwh: 22865,
    },
    {
      location: "Dundo",
      total_Kwh: 20976,
    },
    {
      location: "Tirana",
      total_Kwh: "-",
    },
    {
      location: "Abu Dhabi",
      total_Kwh: 100013,
    },
    {
      location: "Dubai",
      total_Kwh: 26330,
    },
    {
      location: "Buenos Aires",
      total_Kwh: 84,
    },
    {
      location: "Yerevan",
      total_Kwh: "-",
    },
    {
      location: "Canberra",
      total_Kwh: "-",
    },
    {
      location: "Vienna",
      total_Kwh: "-",
    },
    {
      location: "Baku",
      total_Kwh: "-",
    },
    {
      location: "Bujumbura",
      total_Kwh: 191399,
    },
    {
      location: "Muyinga",
      total_Kwh: 58797,
    },
    {
      location: "Ruyigi",
      total_Kwh: 40949,
    },
    {
      location: "Makamba",
      total_Kwh: "-",
    },
    {
      location: "Brussels",
      total_Kwh: "-",
    },
    {
      location: "Ouagadougou",
      total_Kwh: 68136,
    },
    {
      location: "Dori",
      total_Kwh: "-",
    },
    {
      location: "Bobo-Dioulasso",
      total_Kwh: "-",
    },
    {
      location: "Djibo",
      total_Kwh: "-",
    },
    {
      location: "Kaya",
      total_Kwh: "-",
    },
    {
      location: "Ouahigouya",
      total_Kwh: "-",
    },
    {
      location: "Cox's Bazar",
      total_Kwh: 827429,
    },
    {
      location: "Dhaka",
      total_Kwh: 101526,
    },
    {
      location: "Sofia",
      total_Kwh: 21982,
    },
    {
      location: "Bihac",
      total_Kwh: "-",
    },
    {
      location: "Sarajevo",
      total_Kwh: 45939,
    },
    {
      location: "Minsk",
      total_Kwh: 26019,
    },
    {
      location: "Belmopan",
      total_Kwh: 14825,
    },
    {
      location: "Brasilia",
      total_Kwh: 60542,
    },
    {
      location: "Manaus",
      total_Kwh: 51244,
    },
    {
      location: "Boa Vista",
      total_Kwh: 73817,
    },
    {
      location: "Pacaraima",
      total_Kwh: 9307,
    },
    {
      location: "Belem",
      total_Kwh: "-",
    },
    {
      location: "Dukwi",
      total_Kwh: 8450,
    },
    {
      location: "Bangui",
      total_Kwh: "-",
    },
    {
      location: "Kaga Bandoro",
      total_Kwh: 7131,
    },
    {
      location: "Paoua",
      total_Kwh: 5066,
    },
    {
      location: "Bouar",
      total_Kwh: 12911,
    },
    {
      location: "Obo",
      total_Kwh: "-",
    },
    {
      location: "Bambari",
      total_Kwh: 6644,
    },
    {
      location: "Berberati",
      total_Kwh: "-",
    },
    {
      location: "Ottawa",
      total_Kwh: "-",
    },
    {
      location: "Montreal",
      total_Kwh: "-",
    },
    {
      location: "Toronto",
      total_Kwh: "-",
    },
    {
      location: "Geneva",
      total_Kwh: 1260219,
    },
    {
      location: "Bern",
      total_Kwh: "-",
    },
    {
      location: "Santiago",
      total_Kwh: "-",
    },
    {
      location: "Arica",
      total_Kwh: "-",
    },
    {
      location: "Beijing",
      total_Kwh: "-",
    },
    {
      location: "Abidjan",
      total_Kwh: 74776,
    },
    {
      location: "Guiglo",
      total_Kwh: "-",
    },
    {
      location: "Yaounde",
      total_Kwh: 90348,
    },
    {
      location: "Meiganga",
      total_Kwh: 24668,
    },
    {
      location: "Bertoua",
      total_Kwh: 19388,
    },
    {
      location: "Kousséri",
      total_Kwh: 22847,
    },
    {
      location: "Maroua",
      total_Kwh: 84961,
    },
    {
      location: "Batouri",
      total_Kwh: 9349,
    },
    {
      location: "Djohong",
      total_Kwh: 48841,
    },
    {
      location: "Touboro",
      total_Kwh: 64016,
    },
    {
      location: "Buea",
      total_Kwh: 39197,
    },
    {
      location: "Bamenda",
      total_Kwh: 31982,
    },
    {
      location: "Douala",
      total_Kwh: 61642,
    },
    {
      location: "Aru",
      total_Kwh: 35887,
    },
    {
      location: "Goma",
      total_Kwh: 24461,
    },
    {
      location: "Gbadolite",
      total_Kwh: 87577,
    },
    {
      location: "Bukavu",
      total_Kwh: 4088,
    },
    {
      location: "Kinshasa",
      total_Kwh: 59521,
    },
    {
      location: "Uvira",
      total_Kwh: 30461,
    },
    {
      location: "Libenge",
      total_Kwh: "-",
    },
    {
      location: "Baraka",
      total_Kwh: 20711,
    },
    {
      location: "Baraka",
      total_Kwh: 20711,
    },
    {
      location: "Bunia",
      total_Kwh: "-",
    },
    {
      location: "Kalemie",
      total_Kwh: 14598,
    },
    {
      location: "Beni",
      total_Kwh: "-",
    },
    {
      location: "Bili",
      total_Kwh: 7484,
    },
    {
      location: "Kananga",
      total_Kwh: "-",
    },
    {
      location: "Tshikapa",
      total_Kwh: 18119,
    },
    {
      location: "Betou",
      total_Kwh: 23711,
    },
    {
      location: "Gamboma",
      total_Kwh: 14259,
    },
    {
      location: "Apartadó",
      total_Kwh: 16543,
    },
    {
      location: "Bogota",
      total_Kwh: 64029,
    },
    {
      location: "Barranquilla",
      total_Kwh: 4220,
    },
    {
      location: "Pasto",
      total_Kwh: 11577,
    },
    {
      location: "Cali",
      total_Kwh: 39968,
    },
    {
      location: "Cúcuta",
      total_Kwh: 70014,
    },
    {
      location: "Quibdó",
      total_Kwh: 8081,
    },
    {
      location: "Mocoa",
      total_Kwh: 6307,
    },
    {
      location: "Medellín",
      total_Kwh: 19008,
    },
    {
      location: "Arauca",
      total_Kwh: 24415,
    },
    {
      location: "Buenaventura",
      total_Kwh: 11587,
    },
    {
      location: "Riohacha",
      total_Kwh: 31578,
    },
    {
      location: "San José",
      total_Kwh: 59889,
    },
    {
      location: "Upala",
      total_Kwh: 55058,
    },
    {
      location: "San José",
      total_Kwh: 22422,
    },
    {
      location: "Havana",
      total_Kwh: "-",
    },
    {
      location: "Nicosia",
      total_Kwh: 41461,
    },
    {
      location: "Prague",
      total_Kwh: "-",
    },
    {
      location: "Nuremberg",
      total_Kwh: "-",
    },
    {
      location: "Berlin",
      total_Kwh: "-",
    },
    {
      location: "Djibouti",
      total_Kwh: 124506,
    },
    {
      location: "Ali Sabieh",
      total_Kwh: 59090,
    },
    {
      location: "Obock",
      total_Kwh: 82800,
    },
    {
      location: "Copenhagen",
      total_Kwh: "-",
    },
    {
      location: "Santo Domingo",
      total_Kwh: 43087,
    },
    {
      location: "Algiers",
      total_Kwh: "-",
    },
    {
      location: "Tindouf",
      total_Kwh: "-",
    },
    {
      location: "Rabouni",
      total_Kwh: 20773,
    },
    {
      location: "Quito",
      total_Kwh: 51132,
    },
    {
      location: "Lago Agrio",
      total_Kwh: 55305,
    },
    {
      location: "Ibarra",
      total_Kwh: 18731,
    },
    {
      location: "Esmeraldas",
      total_Kwh: 35914,
    },
    {
      location: "Cuenca",
      total_Kwh: 12535,
    },
    {
      location: "Tulcán",
      total_Kwh: 10487,
    },
    {
      location: "Quito (Sassari)",
      total_Kwh: "-",
    },
    {
      location: "Guayaquil",
      total_Kwh: 6940,
    },
    {
      location: "Huaquillas",
      total_Kwh: 28980,
    },
    {
      location: "Cairo",
      total_Kwh: 132552,
    },
    {
      location: "Alexandria",
      total_Kwh: 77845,
    },
    {
      location: "Asmara",
      total_Kwh: 26723,
    },
    {
      location: "Laayoune",
      total_Kwh: 24114,
    },
    {
      location: "Madrid",
      total_Kwh: "-",
    },
    {
      location: "Addis Ababa",
      total_Kwh: "-",
    },
    {
      location: "Asosa",
      total_Kwh: 15159,
    },
    {
      location: "Gambella",
      total_Kwh: 223838,
    },
    {
      location: "Gambella",
      total_Kwh: 223838,
    },
    {
      location: "Jijiga",
      total_Kwh: 42969,
    },
    {
      location: "Pugnido",
      total_Kwh: 160233,
    },
    {
      location: "Dimma",
      total_Kwh: 112680,
    },
    {
      location: "Shire",
      total_Kwh: "-",
    },
    {
      location: "Dollo Ado",
      total_Kwh: "-",
    },
    {
      location: "Aw-barre",
      total_Kwh: "-",
    },
    {
      location: "Kebribeyah",
      total_Kwh: 3976,
    },
    {
      location: "Sherkole",
      total_Kwh: "-",
    },
    {
      location: "Addis Ababa",
      total_Kwh: "-",
    },
    {
      location: "Bokolmayo",
      total_Kwh: "-",
    },
    {
      location: "Tongo",
      total_Kwh: "-",
    },
    {
      location: "Bambasi",
      total_Kwh: "-",
    },
    {
      location: "Melkadida",
      total_Kwh: 554280,
    },
    {
      location: "Hilaweyn",
      total_Kwh: "-",
    },
    {
      location: "Buramino",
      total_Kwh: "-",
    },
    {
      location: "Kobe",
      total_Kwh: "-",
    },
    {
      location: "Mai Aini",
      total_Kwh: "-",
    },
    {
      location: "Sheder",
      total_Kwh: "-",
    },
    {
      location: "Itang",
      total_Kwh: "-",
    },
    {
      location: "Samara",
      total_Kwh: "-",
    },
    {
      location: "Embamadre",
      total_Kwh: "-",
    },
    {
      location: "Tsore",
      total_Kwh: "-",
    },
    {
      location: "Jewi",
      total_Kwh: "-",
    },
    {
      location: "Mekelle",
      total_Kwh: "-",
    },
    {
      location: "Paris",
      total_Kwh: "-",
    },
    {
      location: "Strasbourg",
      total_Kwh: "-",
    },
    {
      location: "Libreville",
      total_Kwh: 5016,
    },
    {
      location: "London",
      total_Kwh: 8112,
    },
    {
      location: "Gali",
      total_Kwh: "-",
    },
    {
      location: "Sukhumi",
      total_Kwh: "-",
    },
    {
      location: "Tbilisi",
      total_Kwh: 49869,
    },
    {
      location: "Accra",
      total_Kwh: 22750,
    },
    {
      location: "Takoradi",
      total_Kwh: "-",
    },
    {
      location: "Conakry",
      total_Kwh: "-",
    },
    {
      location: "Athens",
      total_Kwh: 485180,
    },
    {
      location: "Chios",
      total_Kwh: 13482,
    },
    {
      location: "Samos",
      total_Kwh: 34327,
    },
    {
      location: "Kos",
      total_Kwh: 10200,
    },
    {
      location: "Lesvos",
      total_Kwh: 84679,
    },
    {
      location: "Thessaloniki",
      total_Kwh: 36360,
    },
    {
      location: "Orestiada",
      total_Kwh: 4884,
    },
    {
      location: "Guatemala city",
      total_Kwh: 26451,
    },
    {
      location: "Santa Elena",
      total_Kwh: 8480,
    },
    {
      location: "Puerto Barrios",
      total_Kwh: 14931,
    },
    {
      location: "Esquipulas",
      total_Kwh: 10833,
    },
    {
      location: "Tecun Uman",
      total_Kwh: 17991,
    },
    {
      location: "Georgetown",
      total_Kwh: "-",
    },
    {
      location: "Hong Kong",
      total_Kwh: "-",
    },
    {
      location: "San Pedro Sula",
      total_Kwh: 9804,
    },
    {
      location: "Tegucigalpa",
      total_Kwh: 20932,
    },
    {
      location: "Ocotepeque",
      total_Kwh: 3773,
    },
    {
      location: "Choluteca",
      total_Kwh: 20897,
    },
    {
      location: "Zagreb",
      total_Kwh: 16043,
    },
    {
      location: "Port-au-Prince",
      total_Kwh: "-",
    },
    {
      location: "Budapest",
      total_Kwh: 46246,
    },
    {
      location: "Budapest",
      total_Kwh: 47766,
    },
    {
      location: "Jakarta",
      total_Kwh: "-",
    },
    {
      location: "Tanjung Pinang",
      total_Kwh: "-",
    },
    {
      location: "Medan",
      total_Kwh: "-",
    },
    {
      location: "Pekanbaru",
      total_Kwh: "-",
    },
    {
      location: "Makassar",
      total_Kwh: "-",
    },
    {
      location: "Lhoksemauwe",
      total_Kwh: "-",
    },
    {
      location: "Chennai",
      total_Kwh: "-",
    },
    {
      location: "New Delhi",
      total_Kwh: 145506,
    },
    {
      location: "Dublin",
      total_Kwh: "-",
    },
    {
      location: "Dogharoun",
      total_Kwh: "-",
    },
    {
      location: "Esfahan",
      total_Kwh: 77696,
    },
    {
      location: "Mashad",
      total_Kwh: 44699,
    },
    {
      location: "Shiraz",
      total_Kwh: 14178,
    },
    {
      location: "Tehran",
      total_Kwh: 54323,
    },
    {
      location: "Kerman",
      total_Kwh: 45977,
    },
    {
      location: "Baghdad",
      total_Kwh: 144960,
    },
    {
      location: "Dohuk",
      total_Kwh: "-",
    },
    {
      location: "Erbil",
      total_Kwh: 89328,
    },
    {
      location: "Sulaymaniyah",
      total_Kwh: "-",
    },
    {
      location: "Kirkuk",
      total_Kwh: 21068,
    },
    {
      location: "Tel Aviv",
      total_Kwh: 4551,
    },
    {
      location: "Rome",
      total_Kwh: 144598,
    },
    {
      location: "Amman",
      total_Kwh: 74925,
    },
    {
      location: "Amman",
      total_Kwh: 466236,
    },
    {
      location: "Mafraq",
      total_Kwh: 86377,
    },
    {
      location: "Azraq",
      total_Kwh: 155271,
    },
    {
      location: "Zaatari",
      total_Kwh: 362650,
    },
    {
      location: "Raba Al Sarhan",
      total_Kwh: 42587,
    },
    {
      location: "Irbid",
      total_Kwh: 141324,
    },
    {
      location: "Tokyo",
      total_Kwh: 23799,
    },
    {
      location: "Am Djarass",
      total_Kwh: 8106,
    },
    {
      location: "Dadaab",
      total_Kwh: 897624,
    },
    {
      location: "Kakuma",
      total_Kwh: 1598880,
    },
    {
      location: "Nairobi",
      total_Kwh: 43384,
    },
    {
      location: "Nairobi",
      total_Kwh: 233338,
    },
    {
      location: "Bishkek",
      total_Kwh: 17052,
    },
    {
      location: "Seoul",
      total_Kwh: 54840,
    },
    {
      location: "Kuwait City",
      total_Kwh: 7764,
    },
    {
      location: "Beirut",
      total_Kwh: 1666964,
    },
    {
      location: "Tyre",
      total_Kwh: 1956,
    },
    {
      location: "Qobayat",
      total_Kwh: 4911,
    },
    {
      location: "Zahleh",
      total_Kwh: 124211,
    },
    {
      location: "Tripoli",
      total_Kwh: 78944,
    },
    {
      location: "Mont Lebanon",
      total_Kwh: "-",
    },
    {
      location: "Harper",
      total_Kwh: "-",
    },
    {
      location: "Monrovia",
      total_Kwh: 47768,
    },
    {
      location: "Zwedru",
      total_Kwh: "-",
    },
    {
      location: "Saclepea",
      total_Kwh: "-",
    },
    {
      location: "Tripoli",
      total_Kwh: 595196,
    },
    {
      location: "Jaffna",
      total_Kwh: "-",
    },
    {
      location: "Colombo",
      total_Kwh: "-",
    },
    {
      location: "Vilnius",
      total_Kwh: "-",
    },
    {
      location: "Rabat",
      total_Kwh: 48408,
    },
    {
      location: "Tijuana",
      total_Kwh: 7235,
    },
    {
      location: "Mexico City",
      total_Kwh: 59208,
    },
    {
      location: "Monterrey",
      total_Kwh: 33924,
    },
    {
      location: "Acayucan",
      total_Kwh: "-",
    },
    {
      location: "Tapachula",
      total_Kwh: 19974,
    },
    {
      location: "Saltillo",
      total_Kwh: 8374,
    },
    {
      location: "Aguas Calientes",
      total_Kwh: 10505,
    },
    {
      location: "Palenque",
      total_Kwh: 30510,
    },
    {
      location: "Ciudad Juarez",
      total_Kwh: "-",
    },
    {
      location: "Guadalajara",
      total_Kwh: 9399,
    },
    {
      location: "Queretaro",
      total_Kwh: "-",
    },
    {
      location: "Torreon",
      total_Kwh: "-",
    },
    {
      location: "Cancun",
      total_Kwh: "-",
    },
    {
      location: "Leon",
      total_Kwh: "-",
    },
    {
      location: "Puebla",
      total_Kwh: "-",
    },
    {
      location: "San Luis Potosi",
      total_Kwh: "-",
    },
    {
      location: "Mexicali",
      total_Kwh: "-",
    },
    {
      location: "Tenosique",
      total_Kwh: 16073,
    },
    {
      location: "Skopje",
      total_Kwh: 41777,
    },
    {
      location: "Bamako",
      total_Kwh: 109003,
    },
    {
      location: "Gao",
      total_Kwh: "-",
    },
    {
      location: "Tombouctou",
      total_Kwh: "-",
    },
    {
      location: "Mopti",
      total_Kwh: 31227,
    },
    {
      location: "Menaka",
      total_Kwh: "-",
    },
    {
      location: "Valetta",
      total_Kwh: "-",
    },
    {
      location: "Maungdaw",
      total_Kwh: "-",
    },
    {
      location: "Yangon",
      total_Kwh: 78958,
    },
    {
      location: "Buthidaung",
      total_Kwh: "-",
    },
    {
      location: "Myitkyina",
      total_Kwh: "-",
    },
    {
      location: "Bhomo",
      total_Kwh: 23684,
    },
    {
      location: "Loikaw",
      total_Kwh: "-",
    },
    {
      location: "Hpa-An",
      total_Kwh: 50365,
    },
    {
      location: "Sittwe",
      total_Kwh: "-",
    },
    {
      location: "Nay Pyi Taw",
      total_Kwh: "-",
    },
    {
      location: "Podgorica",
      total_Kwh: "-",
    },
    {
      location: "Ulaanbaatar",
      total_Kwh: "-",
    },
    {
      location: "Maputo",
      total_Kwh: 20482,
    },
    {
      location: "Nampula",
      total_Kwh: 46240,
    },
    {
      location: "Pemba",
      total_Kwh: 23827,
    },
    {
      location: "Nouadhibou",
      total_Kwh: 8870,
    },
    {
      location: "Nouakchott",
      total_Kwh: 57680,
    },
    {
      location: "Bassikounou",
      total_Kwh: 81498,
    },
    {
      location: "Lilongwe",
      total_Kwh: 63250,
    },
    {
      location: "Kuala Lumpur",
      total_Kwh: 229555,
    },
    {
      location: "Windhoek",
      total_Kwh: "-",
    },
    {
      location: "Niamey",
      total_Kwh: 537105,
    },
    {
      location: "Tahoua",
      total_Kwh: 56591,
    },
    {
      location: "Abala",
      total_Kwh: 35317,
    },
    {
      location: "Diffa",
      total_Kwh: "-",
    },
    {
      location: "Agadez",
      total_Kwh: 104320,
    },
    {
      location: "Ouallam",
      total_Kwh: 411872,
    },
    {
      location: "Tillabéri",
      total_Kwh: 40366,
    },
    {
      location: "Maradi",
      total_Kwh: "-",
    },
    {
      location: "Lagos",
      total_Kwh: 17274,
    },
    {
      location: "Maiduguri",
      total_Kwh: 48581,
    },
    {
      location: "Maiduguri",
      total_Kwh: 48581,
    },
    {
      location: "Abuja",
      total_Kwh: "-",
    },
    {
      location: "Makurdi",
      total_Kwh: "-",
    },
    {
      location: "Yola",
      total_Kwh: 7095,
    },
    {
      location: "Calabar",
      total_Kwh: 28974,
    },
    {
      location: "Adikpo",
      total_Kwh: "-",
    },
    {
      location: "Ogoja",
      total_Kwh: 234169,
    },
    {
      location: "Bama",
      total_Kwh: "-",
    },
    {
      location: "Ngala",
      total_Kwh: "-",
    },
    {
      location: "Monguno",
      total_Kwh: "-",
    },
    {
      location: "Banki",
      total_Kwh: "-",
    },
    {
      location: "Gwoza",
      total_Kwh: "-",
    },
    {
      location: "Gembu",
      total_Kwh: "-",
    },
    {
      location: "The Hague",
      total_Kwh: "-",
    },
    {
      location: "Kathmandu",
      total_Kwh: "-",
    },
    {
      location: "Islamabad",
      total_Kwh: 684437,
    },
    {
      location: "Peshawar",
      total_Kwh: 90554,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Quetta",
      total_Kwh: 576,
    },
    {
      location: "Karachi",
      total_Kwh: "-",
    },
    {
      location: "Kohat",
      total_Kwh: 2330,
    },
    {
      location: "Chaman",
      total_Kwh: "-",
    },
    {
      location: "Loralai",
      total_Kwh: "-",
    },
    {
      location: "Dalbandin",
      total_Kwh: "-",
    },
    {
      location: "Haripur",
      total_Kwh: 276,
    },
    {
      location: "Panama City",
      total_Kwh: 41529,
    },
    {
      location: "Lima",
      total_Kwh: 75859,
    },
    {
      location: "Tacna",
      total_Kwh: 6644,
    },
    {
      location: "Tumbes",
      total_Kwh: 35207,
    },
    {
      location: "Arequipa",
      total_Kwh: 8344,
    },
    {
      location: "Manila",
      total_Kwh: "-",
    },
    {
      location: "Cotabato",
      total_Kwh: 52711,
    },
    {
      location: "Warsaw",
      total_Kwh: 7665,
    },
    {
      location: "Bucharest",
      total_Kwh: 6606,
    },
    {
      location: "Timisoara",
      total_Kwh: "-",
    },
    {
      location: "Moscow",
      total_Kwh: "-",
    },
    {
      location: "Kibuye",
      total_Kwh: 66939,
    },
    {
      location: "Kigali",
      total_Kwh: 51808,
    },
    {
      location: "Huye",
      total_Kwh: 21296,
    },
    {
      location: "Kirehe",
      total_Kwh: 42174,
    },
    {
      location: "Kabarore",
      total_Kwh: 16020,
    },
    {
      location: "Riyadh",
      total_Kwh: 209692,
    },
    {
      location: "Gedaref",
      total_Kwh: 34179,
    },
    {
      location: "Khartoum",
      total_Kwh: 405613,
    },
    {
      location: "Kassala",
      total_Kwh: 137622,
    },
    {
      location: "El Geneina",
      total_Kwh: 6570,
    },
    {
      location: "El Fasher",
      total_Kwh: 21279,
    },
    {
      location: "Nyala",
      total_Kwh: 28522,
    },
    {
      location: "Zalingei",
      total_Kwh: 11377,
    },
    {
      location: "Ed Daein",
      total_Kwh: 6395,
    },
    {
      location: "El Obeid",
      total_Kwh: 4660,
    },
    {
      location: "Kadugli",
      total_Kwh: 23480,
    },
    {
      location: "Kosti",
      total_Kwh: 49678,
    },
    {
      location: "Khashm El Girba",
      total_Kwh: 33099,
    },
    {
      location: "Dakar",
      total_Kwh: 772631,
    },
    {
      location: "Dakar",
      total_Kwh: 113753,
    },
    {
      location: "San Salvador",
      total_Kwh: "-",
    },
    {
      location: "Bossaso",
      total_Kwh: 34975,
    },
    {
      location: "Gaalkacyo",
      total_Kwh: 101694,
    },
    {
      location: "Hargeysa",
      total_Kwh: 23454,
    },
    {
      location: "Kismaayo",
      total_Kwh: 4730,
    },
    {
      location: "Mogadishu",
      total_Kwh: 31451,
    },
    {
      location: "Garoowe",
      total_Kwh: 1306,
    },
    {
      location: "Baidoa",
      total_Kwh: 12071,
    },
    {
      location: "Dollow",
      total_Kwh: 5172,
    },
    {
      location: "Dhobley",
      total_Kwh: 7963,
    },
    {
      location: "Berbera",
      total_Kwh: 17620,
    },
    {
      location: "Belgrade",
      total_Kwh: 19842,
    },
    {
      location: "Priština",
      total_Kwh: 26596,
    },
    {
      location: "Preševo",
      total_Kwh: "-",
    },
    {
      location: "Yei",
      total_Kwh: 16333,
    },
    {
      location: "Juba",
      total_Kwh: 131678,
    },
    {
      location: "Yambio",
      total_Kwh: "-",
    },
    {
      location: "Malakal",
      total_Kwh: 76629,
    },
    {
      location: "Bor",
      total_Kwh: 89079,
    },
    {
      location: "Bunj",
      total_Kwh: 711763,
    },
    {
      location: "Jam Jang",
      total_Kwh: 635364,
    },
    {
      location: "Wau",
      total_Kwh: 39559,
    },
    {
      location: "Bentiu",
      total_Kwh: "-",
    },
    {
      location: "Stockholm",
      total_Kwh: 13941,
    },
    {
      location: "Damascus",
      total_Kwh: 353440,
    },
    {
      location: "Homs",
      total_Kwh: "-",
    },
    {
      location: "Aleppo",
      total_Kwh: 153831,
    },
    {
      location: "Tartous",
      total_Kwh: 84133,
    },
    {
      location: "Qamishli",
      total_Kwh: 99227,
    },
    {
      location: "Sweida",
      total_Kwh: 86325,
    },
    {
      location: "N'Djamena",
      total_Kwh: 553651,
    },
    {
      location: "Gore",
      total_Kwh: "-",
    },
    {
      location: "Iriba",
      total_Kwh: 215500,
    },
    {
      location: "Maro",
      total_Kwh: "-",
    },
    {
      location: "Abéché",
      total_Kwh: "-",
    },
    {
      location: "Farchana",
      total_Kwh: "-",
    },
    {
      location: "Goz Beïda",
      total_Kwh: "-",
    },
    {
      location: "Haraze",
      total_Kwh: "-",
    },
    {
      location: "Baga Sola",
      total_Kwh: "-",
    },
    {
      location: "Moissala",
      total_Kwh: "-",
    },
    {
      location: "Lome",
      total_Kwh: 18377,
    },
    {
      location: "Bangkok",
      total_Kwh: 20282,
    },
    {
      location: "Mae Hong Son",
      total_Kwh: 31317,
    },
    {
      location: "Mae Sot",
      total_Kwh: 20042,
    },
    {
      location: "Bangkok",
      total_Kwh: 72086,
    },
    {
      location: "Bangkok",
      total_Kwh: "-",
    },
    {
      location: "Dushanbe",
      total_Kwh: 1860,
    },
    {
      location: "Tunis",
      total_Kwh: 44778,
    },
    {
      location: "Zarzis",
      total_Kwh: 34057,
    },
    {
      location: "Ankara",
      total_Kwh: 277260,
    },
    {
      location: "Istanbul",
      total_Kwh: 52124,
    },
    {
      location: "Van",
      total_Kwh: "-",
    },
    {
      location: "Gaziantep",
      total_Kwh: 112298,
    },
    {
      location: "Sanliurfa",
      total_Kwh: 16524,
    },
    {
      location: "Hatay",
      total_Kwh: 22151,
    },
    {
      location: "Izmir",
      total_Kwh: 48607,
    },
    {
      location: "Dar Es Salam",
      total_Kwh: 123134,
    },
    {
      location: "Kasulu",
      total_Kwh: 287038,
    },
    {
      location: "Kibondo",
      total_Kwh: "-",
    },
    {
      location: "Kigoma",
      total_Kwh: 61441,
    },
    {
      location: "Mwanza",
      total_Kwh: "-",
    },
    {
      location: "Arua",
      total_Kwh: 100740,
    },
    {
      location: "Kampala",
      total_Kwh: 133817,
    },
    {
      location: "Mbarara",
      total_Kwh: 20193,
    },
    {
      location: "Moyo",
      total_Kwh: 89429,
    },
    {
      location: "Kisoro",
      total_Kwh: 8076,
    },
    {
      location: "Kyaka II",
      total_Kwh: 36848,
    },
    {
      location: "Kyangwali",
      total_Kwh: 110992,
    },
    {
      location: "Nakivale",
      total_Kwh: 23428,
    },
    {
      location: "Rwamwanja",
      total_Kwh: 28436,
    },
    {
      location: "Kiryandongo",
      total_Kwh: "-",
    },
    {
      location: "Yumbe",
      total_Kwh: 156022,
    },
    {
      location: "Lamwo",
      total_Kwh: 52287,
    },
    {
      location: "Kiev",
      total_Kwh: "-",
    },
    {
      location: "Mariupol",
      total_Kwh: "-",
    },
    {
      location: "Donetsk",
      total_Kwh: "-",
    },
    {
      location: "Luhansk",
      total_Kwh: "-",
    },
    {
      location: "Sievierodonetsk",
      total_Kwh: "-",
    },
    {
      location: "Sloviansk",
      total_Kwh: "-",
    },
    {
      location: "Montevideo",
      total_Kwh: "-",
    },
    {
      location: "New York",
      total_Kwh: "-",
    },
    {
      location: "Washington",
      total_Kwh: 2040,
    },
    {
      location: "San DIego",
      total_Kwh: "-",
    },
    {
      location: "Caracas",
      total_Kwh: 162569,
    },
    {
      location: "San Cristobal",
      total_Kwh: 17378,
    },
    {
      location: "Guasdualito",
      total_Kwh: 100830,
    },
    {
      location: "Maracaibo",
      total_Kwh: 72469,
    },
    {
      location: "Ciudad Guayana",
      total_Kwh: 88251,
    },
    {
      location: "San Antonio",
      total_Kwh: 39172,
    },
    {
      location: "Aden",
      total_Kwh: 146806,
    },
    {
      location: "Sana'a",
      total_Kwh: 33259,
    },
    {
      location: "Kharaz",
      total_Kwh: 13740,
    },
    {
      location: "Sa'ada",
      total_Kwh: 623,
    },
    {
      location: "Hudaydah",
      total_Kwh: 28345,
    },
    {
      location: "Ibb",
      total_Kwh: "-",
    },
    {
      location: "Cape Town",
      total_Kwh: "-",
    },
    {
      location: "Pretoria",
      total_Kwh: 606515,
    },
    {
      location: "Kawambwa",
      total_Kwh: 21510,
    },
    {
      location: "Lusaka",
      total_Kwh: 31191,
    },
    {
      location: "Kaoma",
      total_Kwh: 23483,
    },
    {
      location: "Solwezi",
      total_Kwh: 9980,
    },
    {
      location: "Harare",
      total_Kwh: 29283,
    },
    {
      location: "Tongogara",
      total_Kwh: "-",
    },
    {
      location: "Tongogara",
      total_Kwh: "-",
    },
    {
      location: "Mbera",
      total_Kwh: 6219,
    },
    {
      location: "Tindouf",
      total_Kwh: 35503,
    },
    {
      location: "São Paulo",
      total_Kwh: "-",
    },
    {
      location: "São Paulo",
      total_Kwh: "-",
    },
    {
      total_Kwh: "-",
    },
    {
      location: "Guereda",
      total_Kwh: "-",
    },
    {
      location: "Maicao",
      total_Kwh: 14297,
    },
    {
      location: "Cairo",
      total_Kwh: 670716,
    },
    {
      location: "Cairo",
      total_Kwh: 52663,
    },
    {
      location: "Addis Ababa",
      total_Kwh: "-",
    },
    {
      location: "Budapest",
      total_Kwh: 131368,
    },
    {
      location: "Ramtha",
      total_Kwh: 399334,
    },
    {
      location: "Nur-Sultan",
      total_Kwh: 2355,
    },
    {
      location: "Garissa",
      total_Kwh: "-",
    },
    {
      location: "Hamrun",
      total_Kwh: 13239,
    },
    {
      location: "Nowshera",
      total_Kwh: 10133,
    },
    {
      location: "Panama City",
      total_Kwh: "-",
    },
    {
      location: "Algeciras",
      total_Kwh: "-",
    },
    {
      location: "Malaga",
      total_Kwh: "-",
    },
    {
      location: "Melilla",
      total_Kwh: "-",
    },
    {
      location: "Damascus",
      total_Kwh: 115167,
    },
    {
      location: "Damascus",
      total_Kwh: 293551,
    },
    {
      location: "Ankara",
      total_Kwh: 231347,
    },
    {
      location: "Ankara",
      total_Kwh: 265891,
    },
    {
      location: "Sana'a",
      total_Kwh: 10005,
    },
    {
      location: "Niamey",
      total_Kwh: 81885,
    },
    {
      location: "Bastos",
      total_Kwh: 39478,
    },
    {
      location: "Bogota",
      total_Kwh: "-",
    },
    {
      location: "Brazzaville",
      total_Kwh: 31457,
    },
    {
      location: "Nairobi",
      total_Kwh: 115921,
    },
    {
      location: "Nyamata",
      total_Kwh: 28180,
    },
    {
      location: "Aysaita",
      total_Kwh: "-",
    },
    {
      location: "Dzaleka",
      total_Kwh: 3528,
    },
    {
      location: "Luxembourg",
      total_Kwh: "-",
    },
    {
      location: "Skopje",
      total_Kwh: 32665,
    },
    {
      location: "Niamey",
      total_Kwh: 71072,
    },
    {
      location: "Adjumani-Pakele",
      total_Kwh: 178320,
    },
    {
      location: "Ambato",
      total_Kwh: 3754,
    },
    {
      location: "Kutupalong",
      total_Kwh: "-",
    },
    {
      location: "Kutupalong",
      total_Kwh: 19878,
    },
    {
      location: "Kule",
      total_Kwh: "-",
    },
    {
      location: "Nguenyyiel",
      total_Kwh: "-",
    },
    {
      location: "Okugo",
      total_Kwh: "-",
    },
    {
      location: "Tierkidi",
      total_Kwh: "-",
    },
    {
      location: "Karoga",
      total_Kwh: 1586,
    },
    {
      location: "Pugnido",
      total_Kwh: "-",
    },
    {
      location: "Kampala",
      total_Kwh: 10710,
    },
    {
      location: "Maratane",
      total_Kwh: 835,
    },
    {
      location: "Marib",
      total_Kwh: 952,
    },
    {
      location: "Tapachula",
      total_Kwh: 26249,
    },
    {
      location: "Hagadera",
      total_Kwh: 3129,
    },
    {
      location: "IFO",
      total_Kwh: 1196,
    },
    {
      location: "Dagahaley",
      total_Kwh: 4693,
    },
    {
      location: "EL Fula",
      total_Kwh: 30835,
    },
    {
      location: "Mongoumba",
      total_Kwh: 11658,
    },
    {
      location: "Dodoma",
      total_Kwh: "-",
    },
    {
      location: "Port of Spain",
      total_Kwh: 5994,
    },
    {
      location: "El Paso",
      total_Kwh: "-",
    },
    {
      location: "Dzaleka",
      total_Kwh: 36566,
    },
    {
      location: "Takum",
      total_Kwh: 24871,
    },
    {
      location: "Dez",
      total_Kwh: "-",
    },
    {
      location: "Bogota",
      total_Kwh: "-",
    },
    {
      location: "Ipiales",
      total_Kwh: 7221,
    },
    {
      location: "Bucaramanga",
      total_Kwh: 11187,
    },
    {
      location: "Barranquilla",
      total_Kwh: "-",
    },
    {
      location: "Gambella",
      total_Kwh: 114696,
    },
    {
      location: "Yakoma",
      total_Kwh: 31943,
    },
    {
      location: "Faradje",
      total_Kwh: "-",
    },
    {
      location: "Tuxtla Gutierrez",
      total_Kwh: 12579,
    },
    {
      location: "Chihuahua",
      total_Kwh: "-",
    },
    {
      location: "Irapuato",
      total_Kwh: "-",
    },
    {
      location: "Silao",
      total_Kwh: "-",
    },
    {
      location: "Tapachula",
      total_Kwh: "-",
    },
    {
      location: "Abi Adi",
      total_Kwh: "-",
    },
    {
      location: "Adigrat",
      total_Kwh: "-",
    },
    {
      location: "Maychew",
      total_Kwh: "-",
    },
    {
      location: "Beirut",
      total_Kwh: 211439,
    },
    {
      location: "Barahle",
      total_Kwh: "-",
    },
    {
      location: "Milan",
      total_Kwh: "-",
    },
    {
      location: "Guatemala City",
      total_Kwh: 15963,
    },
    {
      location: "Guatemala City",
      total_Kwh: 41062,
    },
    {
      location: "Doha",
      total_Kwh: "-",
    },
    {
      location: "Dire Dawa",
      total_Kwh: 3402,
    },
    {
      location: "Kinshasa",
      total_Kwh: 214601,
    },
    {
      location: "Tegucigalpa",
      total_Kwh: "-",
    },
    {
      location: "Lisbon",
      total_Kwh: "-",
    },
    {
      location: "Bangassou",
      total_Kwh: "-",
    },
    {
      location: "Bria",
      total_Kwh: "-",
    },
    {
      location: "Tammenga",
      total_Kwh: "-",
    },
    {
      location: "Tashkent",
      total_Kwh: "-",
    },
    {
      location: "Port Moresby",
      total_Kwh: "-",
    },
    {
      location: "Debre Birhan",
      total_Kwh: "-",
    },
    {
      location: "Torit",
      total_Kwh: 39389,
    },
    {
      location: "Panama City",
      total_Kwh: 28870,
    },
    {
      location: "Suceava",
      total_Kwh: "-",
    },
    {
      location: "Lasi",
      total_Kwh: "-",
    },
    {
      location: "Galati",
      total_Kwh: "-",
    },
    {
      location: "Bucharest",
      total_Kwh: "-",
    },
    {
      location: "Vinnytsia",
      total_Kwh: "-",
    },
    {
      location: "Pichincha",
      total_Kwh: 12855,
    },
    {
      location: "Nayapara",
      total_Kwh: "-",
    },
    {
      location: "Hama",
      total_Kwh: "-",
    },
    {
      location: "Karongi",
      total_Kwh: "-",
    },
    {
      location: "Evros",
      total_Kwh: "-",
    },
    {
      location: "Beirut",
      total_Kwh: "-",
    },
  ];
  $(document).ready(function () {
    require([
      "esri/config",
      "esri/views/SceneView",
      "esri/Map",
      "esri/widgets/Expand",
      "esri/widgets/BasemapGallery",
      "esri/layers/FeatureLayer",
      "esri/widgets/LayerList",
      "esri/widgets/Home",
      "esri/widgets/Legend",
      "esri/widgets/Search",
      "esri/widgets/LayerList/ListItem",
    ], function (esriConfig, SceneView, Map, Expand, BasemapGallery, FeatureLayer, LayerList, Home, Legend, Search, ListItem) {
      esriConfig.apiKey =
        "AAPK853e389eacab4000b8168009a957884eAeNxkMsT5xLndSZFhHgao-ynp074HaJnWU6CfSjbF8QQuZc5bL4FoHut1NkoYGYU";
      var scene = new Map({
        basemap: "hybrid",
        ground: "world-elevation",
      });
      var view = new SceneView({
        container: "viewDiv",
        map: scene,
        alphaCompositingEnabled: true,
        qualityProfile: "high",
        camera: {
          position: [0.0, 14.398459, 25000000.0],
          heading: 0.0,
          tilt: 0.16,
        },
      });
      var basemapGallery = new BasemapGallery({
        view: view,
        container: document.createElement("div"),
      });
      var bgExpand = new Expand({
        view: view,
        content: basemapGallery,
      });
      view.ui.add(bgExpand, "top-left");
      view.watch("camera.position.longitude", (longitude) => {
        label.innerHTML = `Longitude: ${longitude.toFixed(1)}&deg;`;
      });
      let abort = false;
      function rotate() {
        if (!view.interacting && !abort) {
          play.style.display = "none";
          pause.style.display = "block";
          const camera = view.camera.clone();
          camera.position.longitude -= 0.2;
          view.goTo(camera, { animate: false });
          requestAnimationFrame(rotate);
        } else {
          abort = false;
          play.style.display = "block";
          pause.style.display = "none";
        }
      }
      play.onclick = rotate;
      pause.onclick = function () {
        abort = true;
      };
      const getDayOfYear = () => {
        const now = new Date();
        const start = new Date(now.getFullYear(), 0, 0);
        const diff = now - start;
        const oneDay = 1000 * 60 * 60 * 24;
        const day = Math.floor(diff / oneDay);
        return day;
      };
      const secondsPerYear = 31535000;
      const secondsPerDay = 86400;
      const secondsUpTONow = getDayOfYear() * secondsPerDay;
      let total_KWh = 0;
      let kWhPerSecond = 0;
      let counterStartingPoint = 0; //kwhPerSecond*secondsUpTONow;
      const KWhPer5seconds = 5.39;
      const counterElement = document.getElementById("totalPowerConsumption");
      const updateCounter = () => {
        counterStartingPoint += KWhPer5seconds;
        counterElement.innerText =
          (counterStartingPoint + KWhPer5seconds).toFixed(2) + " KWh";
      };
      let intervalID = undefined;

      const offices = new FeatureLayer({
        url: "https://services.arcgis.com/qovwaCdMoEzUUFzS/ArcGIS/rest/services/Offices/FeatureServer/0",
        popupTemplate: {
          title: "UNHCR Offices",
          content: [
            {
              type: "fields",
              fieldInfos: [
                {
                  fieldName: "INS_Code",
                  label: "INS Code",
                },
                {
                  fieldName: "Country__UNHCR_",
                  label: "Country",
                },
                {
                  fieldName: "Location",
                  label: "Location",
                },
                {
                  fieldName: "Office_type",
                  label: "Office type",
                },
                {
                  fieldName: "Green",
                  label: "Green Boxes",
                },
                {
                  fieldName: "Greening",
                  label: "Greening the Blue 2022",
                },
              ],
            },
          ],
          overwriteActions: false,
        },
      });
      scene.add(offices);
      const greenboxes = new FeatureLayer({
        url: "https://services.arcgis.com/qovwaCdMoEzUUFzS/ArcGIS/rest/services/Green_Boxes/FeatureServer/0",
        popupTemplate: {
          title: "Green Boxes installed",
          content: [
            {
              type: "fields",
              fieldInfos: [
                {
                  fieldName: "INS_Code",
                  label: "INS Code",
                },
                {
                  fieldName: "Country__UNHCR_",
                  label: "Country",
                },
                {
                  fieldName: "Location",
                  label: "Location",
                },
                {
                  fieldName: "Total_KWh_Measured__Oct_Dec2022",
                  label: "Total KWh Measured in 2022",
                },
              ],
            },
          ],
          overwriteActions: false,
        },
      });
      greenboxes.visible = false;
      scene.add(greenboxes);

      const greentheblue = new FeatureLayer({
        url: "https://services.arcgis.com/qovwaCdMoEzUUFzS/ArcGIS/rest/services/Greening_The_Blue_2022/FeatureServer/0",
        popupTemplate: {
          title: "Greening The Blue 2022",
          content: [
            {
              type: "fields",
              fieldInfos: [
                {
                  fieldName: "Country__UNHCR_",
                  label: "Country",
                },
                {
                  fieldName: "Location",
                  label: "Location",
                },
                {
                  fieldName: "Total_GHG_Emissions__Co2_",
                  label: "Total CO2 (Ton)",
                },
                {
                  fieldName: "Total_Waste__Kg_",
                  label: "Total Waste (Kg)",
                },
                {
                  fieldName: "Water_Use__m3_",
                  label: "Water use (m³)",
                },
              ],
            },
          ],
          overwriteActions: false,
        },
      });
      scene.add(greentheblue);
      greentheblue.visible = false;
      const Countries = new FeatureLayer({
        url: "https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/World_Countries_(Generalized)/FeatureServer/0",
        popupTemplate: {
          title: "UNHCR Countries",
          content: [
            {
              type: "fields",
              fieldInfos: [
                {
                  fieldName: "COUNTRYAFF",
                  label: "COUNTRY",
                },
              ],
            },
          ],
          overwriteActions: false,
        },
      });
      const searchWidget = new Search({
        view: view,
        allPlaceholder: "UNHCR",
        includeDefaultSources: false,
        sources: [
          {
            layer: offices,
            searchFields: ["Location"],
            displayField: "Location",
            exactMatch: false,
            outFields: ["*"],
            name: "UNHCR Offices",
            placeholder: "example: Caracas",
            zoomScale: 500000,
          },
          {
            layer: greenboxes,
            searchFields: ["Location"],
            displayField: "Location",
            exactMatch: false,
            outFields: ["*"],
            name: "Green Boxes installed",
            placeholder: "example: INS#277",
            zoomScale: 500000,
          },
          {
            layer: greentheblue,
            searchFields: ["Location"],
            displayField: "Location",
            exactMatch: false,
            outFields: ["*"],
            name: "Greening The Blue 2022",
            placeholder: "Paris",
            zoomScale: 500000,
          },
          {
            layer: Countries,
            searchFields: ["COUNTRYAFF"],
            displayField: "COUNTRYAFF",
            exactMatch: true,
            outFields: ["*"],
            name: "UNHCR Countries",
            placeholder: "example: Colombia",
          },
          {
            name: "ArcGIS World Geocoding Service",
            placeholder: "example: Nuuk, GRL",
            apiKey:
              "AAPK853e389eacab4000b8168009a957884eAeNxkMsT5xLndSZFhHgao-ynp074HaJnWU6CfSjbF8QQuZc5bL4FoHut1NkoYGYU",
            singleLineFieldName: "SingleLine",
            url: "https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer",
          },
        ],
      });
      searchWidget.on("select-result", function (event) {
        clearInterval(intervalID);
        total_KWh = 0;
        kWhPerSecond = 0;
        counterStartingPoint = 0;
        console.log("The selected search result: ", event);
        if (event.source.name != "UNHCR Countries")
          view.goTo({
            scale: 500000,
          });
        console.log(
          "YOu searched for: ",
          event.result.feature.attributes.Location
        );

        total_KWh = locations.find(
          (location) =>
            location.location === event.result.feature.attributes.Location ||
            event.result.feature.attributes.Location.includes(location.location)
        )?.total_Kwh;
        console.log("Fetched total kwh: ", total_KWh);
        kWhPerSecond = total_KWh / secondsPerYear;
        console.log("kwh per second: ", kWhPerSecond);
        console.log("seconds up to now: ", secondsUpTONow);
        counterStartingPoint = kWhPerSecond * secondsUpTONow;
        console.log("Counter Starting Point: ", counterStartingPoint);

        // document.getElementById("office").innerText =
        //   event.result.feature.attributes.Location;
        if (counterStartingPoint) {
          counterElement.innerText = counterStartingPoint.toFixed(2) + " KWh";
          intervalID = setInterval(updateCounter, 5000);
        } else {
          counterElement.innerText = "No KWh found";
        }
        // clearInterval(intervalID);
        document.getElementById("co2").innerText =
          event.result.feature.attributes.Total_GHG_Emissions__Co2_;
        document.getElementById("water").innerText =
          event.result.feature.attributes.Water_Use__m3_;
        document.getElementById("waste").innerText =
          event.result.feature.attributes.Total_Waste__Kg_;
      });
      view.ui.add(searchWidget, "bottom-right", {
        position: "bottom-right",
      });
      function shiftCamera(deg) {
        var camera = view.camera.clone();
        camera.position.longitude += deg;
        return camera;
      }
      // Add a legend instance to the panel of a
      // ListItem in a LayerList instance
      const layerList = new LayerList({
        view: view,
        listItemCreatedFunction: (event) => {
          const item = event.item;
          if (item.layer.type != "group") {
            // don't show legend twice
            item.panel = {
              content: "legend",
              open: true,
            };
          }
        },
      });
      greenboxes.visibleElements = {
        statusIndicators: false,
        errors: true,
      };
      view.ui.add(
        [
          new Expand({
            view: view,
            content: layerList,
            group: "top-right",
          }),
        ],
        "top-right"
      );
      var homebtn = new Home({
        view: view,
      });
      view.ui.add(homebtn, "top-left");
    });
  });
</script>
